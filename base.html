<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>base</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">

</head>
<body>
    <!--기본 아이콘-->
    <link rel="shortcut icon" href="#">
    <!--static 파일 불러오기-->
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
   

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">

    <!-- header banner -->
    <nav class="navbar bg-light">
        <div class="container-fluid">
            <a href="{% url 'index' %}" class="navbar-brand">jeju hospital</a>

        <div>
        {% if not 'user_id' in request.session %}
            <button class="btn btn-outline-info" type="button" value="회원가입창" onclick="showPopup_signin();">[회원가입]</button>
            <button class="btn btn-outline-info" type="button" value="로그인창" onclick="showPopup_login();">[로그인]</button>
        </div>
        {% else %}
            {{request.session.name}}님 안녕하세요
            <!-- <a href="{% url 'logout' %}" class="logout">{{request.session.user_id}} [로그아웃]</a> -->
            <button class="btn btn-outline-info" type="button" value="로그아웃창" onclick="showPopup_logout();">[로그아웃]</button> # 수정 (hyunju_20220902)
        {% endif %}
        </div>
    </nav>

    {% if message %}
    <!--팝업창-->
        <script>
            alert('{{ message }}');
            window.close();
            window.opener.location.reload(); 
        </script>
    {% endif %}

    <script>
        function showPopup_login() { window.open("{% url 'login' %}", "a", "width=700, height=400, left=100, top=100"); }
        function showPopup_signin() { window.open("{% url 'user_regist' %}", "a", "width=700, height=600, left=100, top=100"); }
        function showPopup_logout() { window.open("{% url 'logout' %}", "a", "width=700, height=600, left=100, top=100"); } // 수정 (hyunju_20220902)
        
        // const $logout = document.querySelector(".logout") # 수정 (hyunju_20220902)
        // $logout.addEventListener('click', ()=>{
        //     alert('로그아웃 하셨습니다.')
        //     window.location.reload()
        // })
    </script>
    
    {% block content %}
    <!--content 자리-->
    {% endblock content %}
</body>
</html>